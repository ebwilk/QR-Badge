<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Ford Smart Badge</title>
<style>
    :root {
        --ford-blue: #003478;
        --ford-light-blue: #eef4ff;
        --text-dark: #1a1a1a;
        --success: #2e7d32;
        --warning: #f57f20; /* Ford Secondary Orange for alerts */
        --bg-gray: #f4f5f8;
    }

    body {
        font-family: "Ford Antenna", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
        background: var(--bg-gray);
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        min-height: 100vh;
        margin: 0;
        padding: 20px;
    }

    /* --- WIDGET CONTAINER --- */
    .smart-badge {
        background: white;
        width: 100%;
        max-width: 360px;
        border-radius: 12px;
        box-shadow: 0 8px 20px rgba(0,0,0,0.06);
        overflow: hidden;
        position: relative;
        transition: transform 0.2s;
    }

    /* --- DYNAMIC HEADER (The new idea) --- */
    .live-status-header {
        background: var(--ford-light-blue);
        padding: 15px 20px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        border-bottom: 1px solid #dae7ff;
    }

    .status-label {
        font-size: 11px;
        text-transform: uppercase;
        letter-spacing: 1px;
        font-weight: 700;
        color: var(--ford-blue);
        margin-bottom: 4px;
        display: block;
    }

    .time-display {
        font-size: 20px;
        font-weight: 800;
        color: var(--text-dark);
        font-variant-numeric: tabular-nums; /* Keeps numbers from jumping */
    }

    /* Progress Ring / Icon placeholder */
    .status-icon {
        height: 32px;
        width: 32px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 14px;
    }
    .icon-working { background: #e3f2fd; color: var(--ford-blue); }
    .icon-break { background: #fff3e0; color: var(--warning); animation: pulse 2s infinite; }

    /* --- MAIN CARD BODY --- */
    .badge-content {
        padding: 20px;
        text-align: center;
    }

    .user-section {
        display: flex;
        align-items: center;
        gap: 15px;
        margin-bottom: 20px;
        text-align: left;
    }

    .avatar {
        width: 50px;
        height: 50px;
        border-radius: 50%;
        background: #333;
        color: white;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 700;
    }

    .user-info h2 { margin: 0; font-size: 16px; color: var(--text-dark); }
    .user-info p { margin: 2px 0 0 0; font-size: 12px; color: #666; }

    /* --- ACTION BUTTONS --- */
    .action-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 10px;
    }

    .action-btn {
        border: 1px solid #eee;
        background: white;
        padding: 12px;
        border-radius: 8px;
        cursor: pointer;
        transition: all 0.2s;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 8px;
    }
    .action-btn:hover { background: #f9f9f9; border-color: #ddd; }
    .action-btn svg { width: 24px; height: 24px; fill: var(--ford-blue); }
    .action-label { font-size: 12px; font-weight: 600; color: #444; }

    /* --- QR OVERLAY --- */
    .qr-overlay {
        position: absolute;
        inset: 0;
        background: rgba(255,255,255,0.98);
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        z-index: 10;
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.3s;
    }
    .qr-overlay.active { opacity: 1; pointer-events: all; }

    .qr-context-bar {
        position: absolute;
        top: 0; left: 0; right: 0;
        background: var(--warning); /* Break Color */
        color: white;
        padding: 10px;
        text-align: center;
        font-weight: 700;
        font-size: 14px;
        transform: translateY(-100%);
        transition: transform 0.3s;
    }
    .qr-context-bar.show { transform: translateY(0); }

    /* --- SIMULATION CONTROLS (For Demo Only) --- */
    .sim-controls {
        margin-top: 30px;
        padding: 15px;
        background: #e0e0e0;
        border-radius: 8px;
        text-align: center;
    }
    .sim-btn {
        padding: 8px 16px;
        font-size: 12px;
        cursor: pointer;
        background: #333;
        color: white;
        border: none;
        border-radius: 4px;
        margin: 0 5px;
    }

    @keyframes pulse {
        0% { box-shadow: 0 0 0 0 rgba(245, 127, 32, 0.4); }
        70% { box-shadow: 0 0 0 6px rgba(245, 127, 32, 0); }
        100% { box-shadow: 0 0 0 0 rgba(245, 127, 32, 0); }
    }
</style>
</head>
<body>

<div class="smart-badge">
    
    <div class="live-status-header" id="header-bg">
        <div>
            <span class="status-label" id="status-label">Shift Progress</span>
            <div class="time-display" id="time-display">04h 15m</div>
        </div>
        <div class="status-icon icon-working" id="status-icon">
            <svg style="width:20px;height:20px;fill:currentColor" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2zm4.2 14.2L11 13V7h1.5v5.2l4.5 2.7-.8 1.3z"/></svg>
        </div>
    </div>

    <div class="badge-content">
        <div class="user-section">
            <div class="avatar">JD</div>
            <div class="user-info">
                <h2>John Doe</h2>
                <p>Zone C • Team 4</p>
            </div>
        </div>

        <div class="action-grid">
            <div class="action-btn" onclick="showQR('Clock In')">
                <svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"/></svg>
                <span class="action-label">Time Clock</span>
            </div>
            
            <div class="action-btn" onclick="showQR('Cafeteria Payment')">
                <svg viewBox="0 0 24 24"><path d="M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z"/></svg>
                <span class="action-label">Lunch Pay</span>
            </div>
        </div>
    </div>

    <div class="qr-overlay" id="qr-layer" onclick="hideQR()">
        <div class="qr-context-bar" id="qr-alert">
            Break Ending in 14:00
        </div>
        
        <h3 id="qr-title" style="margin-bottom:20px; color:#333;">Scan to Pay</h3>
        <img src="https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=FORD-ID" style="width:180px; height:180px; mix-blend-mode: multiply;">
        <p style="color:#666; font-size:12px; margin-top:15px;">Tap to close</p>
    </div>

</div>

<div class="sim-controls">
    <div style="font-size:10px; text-transform:uppercase; margin-bottom:5px; font-weight:bold;">Simulator Controls</div>
    <button class="sim-btn" onclick="setMode('shift')">Mode: Working</button>
    <button class="sim-btn" onclick="setMode('break')">Mode: On Break</button>
</div>

<script>
    let currentMode = 'shift'; // 'shift' or 'break'

    function setMode(mode) {
        currentMode = mode;
        const header = document.getElementById('header-bg');
        const label = document.getElementById('status-label');
        const time = document.getElementById('time-display');
        const icon = document.getElementById('status-icon');

        if(mode === 'shift') {
            label.innerText = "Shift Remaining";
            time.innerText = "04h 15m";
            time.style.color = "#1a1a1a";
            icon.className = "status-icon icon-working";
            icon.innerHTML = '<svg style="width:20px;height:20px;fill:currentColor" viewBox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2zm4.2 14.2L11 13V7h1.5v5.2l4.5 2.7-.8 1.3z"/></svg>';
            header.style.background = "#eef4ff"; // Blue tint
        } else {
            label.innerText = "Break Remaining";
            time.innerText = "14:22"; // Countdown
            time.style.color = "#d32f2f"; // Urgent Red/Orange
            icon.className = "status-icon icon-break";
            icon.innerHTML = '<svg style="width:20px;height:20px;fill:currentColor" viewBox="0 0 24 24"><path d="M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 18H4V8h16v13z"/></svg>';
            header.style.background = "#fff3e0"; // Orange tint
        }
    }

    function showQR(title) {
        document.getElementById('qr-title').innerText = title;
        document.getElementById('qr-layer').classList.add('active');
        
        // Show the alert bar ONLY if we are on break
        if(currentMode === 'break') {
            const alertBar = document.getElementById('qr-alert');
            alertBar.innerText = "⚠️ Break Ending in 14:22";
            alertBar.classList.add('show');
        }
    }

    function hideQR() {
        document.getElementById('qr-layer').classList.remove('active');
        document.getElementById('qr-alert').classList.remove('show');
    }
</script>

</body>
</html>
